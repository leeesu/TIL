### QueryDSL이란?

Querydal은 HQL(Hibernate Query Language) 쿼리를 타입에 맞게 생성 관리 할 수 있게 해주는 프레임 워크 입니다.  기존에 문자로 쿼리를 작성해 왔다면, 자바 코드로 SQL 쿼리를 작성한다고 볼 수 있습니다.

### **QueryDSL의 역할**

JPA를 사용하면서 JPA에서 지원하는 QueryMethod를 사용하지만, 원하는 조건의 데이터를 수집하기 위해서 결국엔 직접 @Query를 작성 할 수 밖에 없습니다. 이때 작성하는 쿼리문을 JPQL이라고 하며, 복잡한 로직의 경우 개행이 포함된 쿼리 문자열이 길어진다는 단점이 있습니다. 

만약 작성한 JPQL에 오타 혹은 문법적 오류가 있다면 정적쿼리는 로딩시에 에러가 발생하지만, 그 외는 런타임 시점에 에러가 발생된다는 문제가 있습니다. 

이 문제를 해소하는 역할을 하는게 QueryDSL입니다. 

QueryDSL은 오븐소스 프로젝트이며, 데이터를 조회하는데에 특화되어 있습니다.

### **JPQL과 SQL의 단점**

- Type Check불가능
- 런타임 시점에나 오류를 알 수 있다. 컴파일 시점에 알기 힘들다.
- 작동이 되어도 해당 쿼리가 실행되기 전 까지는 오류를 알 수 없다.

### **QueryDSL의 장점**

- 문자가 아닌 코드로 작성.
- 컴파일 시점에 문법 오류가 발견됩니다.
- IDE의 도움을 받아 코드 자동완성이 가능합니다.
- 어려워보이지만 JPQL과 코드모양이 거의 비슷합니다.
- 동적 쿼리작성이 편리합니다.

### Query원칙

- 타입 안정성(Type safety) :  도메인 타입의 property를 반영해서 생성한 쿼리 타입을 이용해서 쿼리를 작성하며, 완전히 타입에 안전한 방법으로 함수와 메서드 호출이 이루어집니다.
- 일관성(consistency) : 기반기술에 상관없이 쿼리 경로와 오퍼레이션이 동일, Query 인터페이스는 공통의 상위 인터페이스를 갖습니다.
- 모든 쿼리 인스턴스는 여러차례 재사용 가능하며, 쿼리 실행 히우 페이징 데이터와 프로젝션 정의는 제거 됩니다.

### 💡 Reference

---

[https://wildeveloperetrain.tistory.com/92](https://wildeveloperetrain.tistory.com/92)